import{p as E,t as M,c as f,w as t,a2 as Z,a4 as le,a6 as G,al as H,q as de,u as ce,v as fe,d as ve,r as T,x as me,A as ye,j as be,J as q,D as Q,aC as ge,aQ as xe,B as Ce,aR as Ve,a3 as he,aS as ke,K as ee,aT as Fe}from"./index.e8704dd8.js";import{c as _e,b as Ie}from"./index.316cb50e.js";import{m as W,O as Pe,u as N,M as Se,x as Be,d as we,B as Re,h as Te,e as De,F as Le,L as $e,i as Ae,Q as Ee}from"./index.bd28c6fd.js";import{V as Me,m as Ne,u as ne,a as Oe,b as Ue,c as te,d as Ke,e as je}from"./VInput.72c5f274.js";import{n as qe,a as Qe,s as We,f as ae}from"./forwardRefs.890e72a9.js";const ze=E({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...W(),...Pe({transition:{component:_e}})},"VCounter"),Je=M()({name:"VCounter",functional:!0,props:ze(),setup(e,v){let{slots:a}=v;const k=f(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return N(()=>t(Se,{transition:e.transition},{default:()=>[Z(t("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:k.value,max:e.max,value:e.value}):k.value]),[[le,e.active]])]})),{}}});const Xe=E({floating:Boolean,...W()},"VFieldLabel"),j=M()({name:"VFieldLabel",props:Xe(),setup(e,v){let{slots:a}=v;return N(()=>t(Me,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),Ye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ie=E({appendInnerIcon:G,bgColor:String,clearable:Boolean,clearIcon:{type:G,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:G,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ye.includes(e)},"onClick:clear":H(),"onClick:appendInner":H(),"onClick:prependInner":H(),...W(),...Be(),...we(),...de()},"VField"),oe=M()({name:"VField",inheritAttrs:!1,props:{id:String,...Ne(),...ie()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:a,emit:k,slots:l}=v;const{themeClasses:r}=ce(e),{loaderClasses:V}=Re(e),{focusClasses:$,isFocused:m,focus:u,blur:o}=ne(e),{InputIcon:F}=Oe(e),{roundedClasses:A}=Te(e),{rtlClasses:I}=fe(),P=f(()=>e.dirty||e.active),g=f(()=>!e.singleLine&&!!(e.label||l.label)),z=ve(),d=f(()=>e.id||`input-${z}`),J=f(()=>`${d.value}-messages`),O=T(),D=T(),U=T(),n=f(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:y,backgroundColorStyles:b}=De(me(e,"bgColor")),{textColorClasses:x,textColorStyles:X}=Le(f(()=>e.error||e.disabled?void 0:P.value&&m.value?e.color:e.baseColor));ye(P,i=>{if(g.value){const s=O.value.$el,C=D.value.$el;requestAnimationFrame(()=>{const h=qe(s),c=C.getBoundingClientRect(),L=c.x-h.x,B=c.y-h.y-(h.height/2-c.height/2),w=c.width/.75,R=Math.abs(w-h.width)>1?{maxWidth:be(w)}:void 0,K=getComputedStyle(s),p=getComputedStyle(C),se=parseFloat(K.transitionDuration)*1e3||150,re=parseFloat(p.getPropertyValue("--v-field-label-scale")),ue=p.getPropertyValue("color");s.style.visibility="visible",C.style.visibility="hidden",Qe(s,{transform:`translate(${L}px, ${B}px) scale(${re})`,color:ue,...R},{duration:se,easing:We,direction:i?"normal":"reverse"}).finished.then(()=>{s.style.removeProperty("visibility"),C.style.removeProperty("visibility")})})}},{flush:"post"});const S=f(()=>({isActive:P,isFocused:m,controlRef:U,blur:o,focus:u}));function Y(i){i.target!==document.activeElement&&i.preventDefault()}function _(i){var s;i.key!=="Enter"&&i.key!==" "||(i.preventDefault(),i.stopPropagation(),(s=e["onClick:clear"])==null||s.call(e,new MouseEvent("click")))}return N(()=>{var L,B,w,R;const i=e.variant==="outlined",s=!!(l["prepend-inner"]||e.prependInnerIcon),C=!!(e.clearable||l.clear),h=!!(l["append-inner"]||e.appendInnerIcon||C),c=()=>l.label?l.label({...S.value,label:e.label,props:{for:d.value}}):e.label;return t("div",Q({class:["v-field",{"v-field--active":P.value,"v-field--appended":h,"v-field--center-affix":(L=e.centerAffix)!=null?L:!n.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":s,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!c(),[`v-field--variant-${e.variant}`]:!0},r.value,y.value,$.value,V.value,A.value,I.value,e.class],style:[b.value,e.style],onClick:Y},a),[t("div",{class:"v-field__overlay"},null),t($e,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),s&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(F,{key:"prepend-icon",name:"prependInner"},null),(B=l["prepend-inner"])==null?void 0:B.call(l,S.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&t(j,{key:"floating-label",ref:D,class:[x.value],floating:!0,for:d.value,style:X.value},{default:()=>[c()]}),t(j,{ref:O,for:d.value},{default:()=>[c()]}),(w=l.default)==null?void 0:w.call(l,{...S.value,props:{id:d.value,class:"v-field__input","aria-describedby":J.value},focus:u,blur:o})]),C&&t(Ie,{key:"clear"},{default:()=>[Z(t("div",{class:"v-field__clearable",onMousedown:K=>{K.preventDefault(),K.stopPropagation()}},[t(Ae,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...S.value,props:{onKeydown:_,onFocus:u,onBlur:o,onClick:e["onClick:clear"]}}):t(F,{name:"clear",onKeydown:_,onFocus:u,onBlur:o},null)]})]),[[le,e.dirty]])]}),h&&t("div",{key:"append",class:"v-field__append-inner"},[(R=l["append-inner"])==null?void 0:R.call(l,S.value),e.appendInnerIcon&&t(F,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",x.value],style:X.value},[i&&t(q,null,[t("div",{class:"v-field__outline__start"},null),g.value&&t("div",{class:"v-field__outline__notch"},[t(j,{ref:D,floating:!0,for:d.value},{default:()=>[c()]})]),t("div",{class:"v-field__outline__end"},null)]),n.value&&g.value&&t(j,{ref:D,floating:!0,for:d.value},{default:()=>[c()]})])])}),{controlRef:U}}});function Ge(e){const v=Object.keys(oe.props).filter(a=>!ge(a)&&a!=="class"&&a!=="style");return xe(e,v)}const He=["color","file","time","date","datetime-local","week","month"],Ze=E({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ue(),...ie()},"VTextField"),it=M()({name:"VTextField",directives:{Intersect:Ee},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:a,emit:k,slots:l}=v;const r=Ce(e,"modelValue"),{isFocused:V,focus:$,blur:m}=ne(e),u=f(()=>{var n;return typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:((n=r.value)!=null?n:"").toString().length}),o=f(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),F=f(()=>["plain","underlined"].includes(e.variant));function A(n,y){var b,x;!e.autofocus||!n||(x=(b=y[0].target)==null?void 0:b.focus)==null||x.call(b)}const I=T(),P=T(),g=T(),z=f(()=>He.includes(e.type)||e.persistentPlaceholder||V.value||e.active);function d(){var n;g.value!==document.activeElement&&((n=g.value)==null||n.focus()),V.value||$()}function J(n){k("mousedown:control",n),n.target!==g.value&&(d(),n.preventDefault())}function O(n){d(),k("click:control",n)}function D(n){n.stopPropagation(),d(),ee(()=>{r.value=null,Fe(e["onClick:clear"],n)})}function U(n){var b;const y=n.target;if(r.value=y.value,((b=e.modelModifiers)==null?void 0:b.trim)&&["text","search","password","tel","url"].includes(e.type)){const x=[y.selectionStart,y.selectionEnd];ee(()=>{y.selectionStart=x[0],y.selectionEnd=x[1]})}}return N(()=>{const n=!!(l.counter||e.counter!==!1&&e.counter!=null),y=!!(n||l.details),[b,x]=Ve(a),{modelValue:X,...S}=te.filterProps(e),Y=Ge(e);return t(te,Q({ref:I,modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":F.value},e.class],style:e.style},b,S,{centerAffix:!F.value,focused:V.value}),{...l,default:_=>{let{id:i,isDisabled:s,isDirty:C,isReadonly:h,isValid:c}=_;return t(oe,Q({ref:P,onMousedown:J,onClick:O,"onClick:clear":D,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},Y,{id:i.value,active:z.value||C.value,dirty:C.value||e.dirty,disabled:s.value,focused:V.value,error:c.value===!1}),{...l,default:L=>{let{props:{class:B,...w}}=L;const R=Z(t("input",Q({ref:g,value:r.value,onInput:U,autofocus:e.autofocus,readonly:h.value,disabled:s.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:d,onBlur:m},w,x),null),[[he("intersect"),{handler:A},null,{once:!0}]]);return t(q,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:B,"data-no-activator":""},[l.default(),R]):ke(R,{class:B}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:y?_=>{var i;return t(q,null,[(i=l.details)==null?void 0:i.call(l,_),n&&t(q,null,[t("span",null,null),t(Je,{active:e.persistentCounter||V.value,value:u.value,max:o.value,disabled:e.disabled},l.counter)])])}:void 0})}),ae({},I,P,g)}}),pe=E({...W(),...Ke()},"VForm"),ot=M()({name:"VForm",props:pe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,v){let{slots:a,emit:k}=v;const l=je(e),r=T();function V(m){m.preventDefault(),l.reset()}function $(m){const u=m,o=l.validate();u.then=o.then.bind(o),u.catch=o.catch.bind(o),u.finally=o.finally.bind(o),k("submit",u),u.defaultPrevented||o.then(F=>{var I;let{valid:A}=F;A&&((I=r.value)==null||I.submit())}),u.preventDefault()}return N(()=>{var m;return t("form",{ref:r,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:V,onSubmit:$},[(m=a.default)==null?void 0:m.call(a,l)])}),ae(l,r)}});export{ot as V,it as a,oe as b,Je as c,Ze as d,Ge as f,ie as m};
